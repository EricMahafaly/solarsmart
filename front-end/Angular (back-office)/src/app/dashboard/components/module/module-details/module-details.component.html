<div class="bg-white vh-100">

  <div class="position-sticky sticky-top z-3 d-flex align-items-center bg-white justify-content-between py-4 px-5 border-bottom">
    <div class="fs-4 font-extrabold tracking-tight text-capitalize">Module details</div>
  </div>


  <div class="p-4 overflow-y-auto scroll-bar" style="height: calc(100vh - 8rem);">
    <div class="row"  *ngIf="!this.detailData.loading">
      <div class="col-8 info-section">
        <p class="fs-15 fw-semibold text-muted mb-2">Description </p>
        <div class="border shadow rounded-2 px-2 py-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <i class="fas fa-hashtag me-2 "></i>Reference:
              <span class="ms-1 text-muted">{{this.detailData.data.reference}}</span>
            </div>
            <div class="col-auto cursor-pointer" (click)="collapse = !collapse">
              <span class="{{this.getStateClasse()}} mt-1 text-capitalize">{{this.getStateLabel()}}</span>
              <i class="ms-3 fas {{this.collapseClass()}}" *ngIf="this.detailData.data.used" ></i>
            </div>
          </div>
          <div class="mt-2 mx-3 mb-3" *ngIf="this.detailData.data.customer" [(ngbCollapse)]="collapse">
            <div class="col d-flex align-items-center">
              <div class="avatar avatar-rounded avatar-sm">
                <img [src]="detailData.data.customer.image ?
                            detailData.data.customer.image : './assets/img/avatar.svg'" alt="">
              </div>
              <a class="ms-2 text-capitalize text-decoration-none" [routerLink]="'/user-space/customers/details/'+detailData.data.customer!.id">
                {{this.detailData.data.customer.name}} {{this.detailData.data.customer.lastName}}
              </a>
            </div>
          </div>
          <div class="mt-2">
            <div>
<!--              <i class="fas fa-clock me-2 "></i>Création date:-->
              <i class="pi pi-clock me-2 "></i>Création date:
              <span class="ms-1 text-muted">{{ getDate() | date}}</span>
            </div>
          </div>
        </div>

        <div class="mt-3 ">
          <div class="fs-15 fw-semibold text-secondary mb-2">Composant detail </div>
          <div class="row">
            <div class="col">
              <div class="border shadow dashed rounded-2 ">
                <div class="" >
                  <div class="border bg-gray-50 p-3 shadow">
                    <span class="fs-15 fw-semibold">Battery </span>
                    <i class="fas fa-battery-car ms-1 text-danger"></i>
                  </div>
<!--                  <p class="fs-15 fw-semibold ms-1 mb-2 pb-2 pt-1 border">Battery </p>-->
                  <div class="mx-2 p-2">
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt-lightning align-middle fs-14"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49,201,206);"></i>
                    </span>
                        Puissance:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.battery.puissance}}W
                    </span>
                      </p>
                    </div>
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt align-middle fs-14"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49, 130, 206);"></i>
                    </span>
                        Voltage:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.battery.voltage}}A
                    </span>
                      </p>
                    </div>
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt align-middle fs-14"></i>-->
<!--                      <i class="fa fa-circle" style="color: rgb(49, 130, 206);"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49,52,206);"></i>
                    </span>
                        Marque:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.battery.marque}}
                    </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="border shadow dashed rounded-2">
                <div class="">
<!--                  <p class="fs-15 fw-semibold mb-2">Panneaux detail </p>-->
                  <div class="border bg-gray-50 p-3 shadow">
                    <span class="fs-15 fw-semibold">Panneaux </span>
                    <i class="fas fa-solar-panel ms-1 text-success"></i>
                  </div>
                  <div class="mx-2 p-2">
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt-lightning align-middle fs-14"></i>-->
<!--                      <i class="fa fa-circle" style="color: rgba(93,206,49,0.78);"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49,201,206);"></i>

                    </span>
                        Puissance:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.panel.puissance}}W
                    </span>
                      </p>
                    </div>
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt align-middle fs-14"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49, 130, 206);"></i>
                    </span>
                        Voltage:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.panel.voltage}}A
                    </span>
                      </p>
                    </div>
                    <div class="mb-2">
                      <p class="mb-0">
                    <span class=" me-2">
<!--                      <i class="fa-solid fa-bolt align-middle fs-14"></i>-->
                      <i class="fa fa-circle" style="color: rgb(49,52,206);"></i>
                    </span>
                        Marque:
                        <span class="ms-1 text-muted fw-bolder">
                      {{detailData.data.panel.marque}}
                    </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="my-3" *ngIf="detailData.data.othersInfo.length != 0">

          <p class="fs-15 fw-semibold text-secondary mb-2">Détail supplémentaire: </p>
          <app-additional-info-list
            [data]="detailData.data.othersInfo"
          ></app-additional-info-list>
        </div>
      </div>
      <div class="image-section col d-flex justify-content-center position-sticky ">
        <div class="image-input image-input-empty image-input-outline image-input-placeholder mb-3">
          <div class="image-input-wrapper" [style.background-image]="'url(' + getImageLink() + ')'">
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
