<div class="vh-100 overflow-y-auto scroll-bar" >
  <div *ngIf="detailData.loading; else dataLoaded">
    <!-- Image de profil et informations -->
    <app-skeleton-customer-info></app-skeleton-customer-info>
  </div>

  <ng-template #dataLoaded>
    <div class="parent-container">

      <div class="d-flex flex-column bg-white shadow ">
        <div class="">
<!--          <img src="/assets/img/solar.jpg" class="h-80 object-fit-cover" alt="">-->
<!--          <img src="/assets/img/profile-cover.jpg" class="h-80 object-fit-cover" alt="">-->
          <img src="/assets/img/cover.jpg" class="h-80 object-fit-cover" alt="">
        </div>
        <div class="d-flex justify-content-between h-18 align-items-center mx-3 position-sticky sticky-top">
          <div class="d-flex flex-row  align-items-center bg-white ">
            <div class="-mt-26 ring-4">
            <span class="me-3">
              <p-avatar [style]="{'position':'relative', 'z-index': '3'}" icon="pi pi-user" size="xlarge" styleClass="mr-2 ring-4" shape="circle" *ngIf="!detailData.data.image"></p-avatar>
            </span>
              <span class="" *ngIf="detailData.data.image">
              <p-avatar [image]="detailData.data.image" [style]="{'position':'relative', 'z-index': '3'}" styleClass="mr-2 ring-4" size="xlarge" shape="circle"></p-avatar>
            </span>
            </div>
            <div class="d-flex flex-column align-items-start ms-2 pe-3 border-end">
              <div class="text-capitalize fw-bold fs-18">{{detailData.data.name}} {{detailData.data.lastName}}</div>
              <div class="text-secondary text-capitalize">
                {{detailData.data.address}}, {{detailData.data.postalCode}}
              </div>
            </div>
          </div>
          <div class="d-flex flex-column align-items-end me-3">
            <app-tab-menu [menus]="getTabs()"></app-tab-menu>
          </div>
        </div>
      </div>
      <div class=" p-4">
        <div class="w-100 d-flex">
          <div class="flex-auto card rounded-4 shadow dashed me-3">
            <div class="card-body">
              <div class="fw-semibold fs-7 mb-1 me-2 border-bottom border-gold">About</div>

              <div class="p-2">
                <div class="mb-2" >
                  <p class="mb-0">
                        <span class=" me-2">
                          <i class="fa-regular fa-envelope align-middle fs-14"></i>
                        </span>
                    <a class="ms-1 text-dark" href="mailto:{{detailData.data.email}}">
                      {{detailData.data.email}}
                    </a>
                  </p>
                </div>

<!--                <div class="mb-2">-->
<!--                  <p class="mb-0">-->
<!--                   <span class=" me-2">-->
<!--                     <i class="fa-regular fa-credit-card align-middle fs-14"></i>-->
<!--                   </span>-->
<!--                    <span class="ms-1 text-dark">-->
<!--                      <ng-container *ngIf="detailData.data.subscription">-->
<!--                        {{detailData.data.subscription}} (subscription)-->
<!--                      </ng-container>-->
<!--                      <ng-container *ngIf="!detailData.data.subscription">-->
<!--                        None (subscription)-->
<!--                      </ng-container>-->
<!--                    </span>-->
<!--                  </p>-->
<!--                </div>-->

                <div class="mb-2" >
                  <p class="mb-0">
                  <span class=" me-2">
                    <i class="fa-solid fa-box-open align-middle fs-14"></i>
                  </span>
                    Module:
                    <span class="ms-1 text-muted">
                    <a [routerLink]="'/user-space/modules/'+detailData.data.moduleId+'/details'">{{detailData.data.moduleReference}}</a>
                  </span>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="flex-auto card shadow rounded-4 dashed ">
            <div class="card-body">
              <div class="fw-semibold fs-7 mb-1 me-2 border-bottom border-gold" >Address Section</div>

              <div class="d-flex flex-auto justify-content-center mx-auto w-100 p-4">

                <div class="col">
                  <div>
                    <div class="mb-2">
                      <p class="mb-0" >
                        <i class="fa-solid fa-building-circle-exclamation me-1 align-middle"></i>
                        <span class="text-muted text-capitalize">
                    {{detailData.data.address}}
                  </span>
                      </p>
                    </div>
                    <div class="mb-2" >
                      <p class="mb-0">
                  <span class=" me-2">
                    <i class="fa-solid fa-map-pin align-middle fs-14"></i>
                  </span>
                        Postal Code:
                        <span class="ms-1 text-muted">
                    {{detailData.data.postalCode}}
                  </span>
                      </p>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

<!--        <div class="w-100 mt-3">-->
          <div class="card card-custom border dashed rounded-4 w-100 mt-3">
            <div class="card-body bg-white">
              <router-outlet></router-outlet>
            </div>
          </div>
<!--        </div>-->

      </div>

<!--      </div>-->

<!--      <div class="d-flex mt-3">-->
<!--        <div class="col-xxl-12 col-xl-12">-->
<!--          <div class="card h-100 card-custom rounded-0 card-details">-->
<!--            <div class="card-body">-->
<!--              <div class="sticky-tab z-3 pt-2" >-->
<!--                <div class="pb-4 border-end-dashed">-->
<!--                  <app-tab-menu [menus]="getTabs()"></app-tab-menu>-->
<!--                </div>-->
<!--              </div>-->
<!--              <router-outlet></router-outlet>-->
<!--            </div>-->

<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
    </div>
  </ng-template>
</div>
